# REAL-Prover

## Dependencies and Usage

Across all our projects, we use `leanprover/lean:v4.16.0`. To run this project, you need to have `interactive` and `jixia` installed and built. You also need a Lean 4 project as a working environment (referred to as a `space`). You can obtain these 2 dependencies as follow:

- jixia: [jixia](https://github.com/frenzymath/jixia). Clone this repo in the parental directory and run `lake build`.
- interactive: [interactive](https://github.com/frenzymath/interactive). Clone this repo in the parental directory and run `lake build`.
- space: [lean_test_v4160](https://github.com/frenzymath/lean_test_v4160). Clone this repo in the parental directory and run `lake build`.

The recommended directory organization is
```
- root/
    - jixia/
        - ...
    - interactive/
        - .lake/build/
        - ...
    - lean_test_v4160/
        - .lake/build/
        - ...
    - Realprover/
```

## Configuration
All system configuration now lies in `conf/config.py`.

## Running REAL-Prover

### 1. Running the HERALD Pipeline
To process data generated by HERALD, run:

```bash
cd Realprover
python -m herald.run --source_file /path/to/herald/informal/data --result_dir /path/to/herald/result/dir
```

-   `--source_file`: Path to the input JSONL file (informal statements).
    
-   `--result_dir`: Directory to save the processed output.
    

> **Note:** Ensure these paths are consistent with those used in `Herald/pipeline/run.py`.

---

### 2. Running Experiments

#### Input Data Format
Each input data should be a JSONL line with two keys: `id` and `formal_statement`.
See `data/minif2f_test.jsonl` for examples.

#### Start Leansearch-PS-inference server
See the detailed documentation in [LeanSearch-PS-inference/README.md](../LeanSearch-PS-inference/README.md).


#### Running

Create a runtime configuration file (in TOML format) in `./experiment/examples/`, then run:

```bash
cd Realprover
python -m experiment.run /path/to/config.toml
```

---
